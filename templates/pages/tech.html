<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NurseAssist</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <!-- Camera Stream -->
    <div class="VideoContainer">
        <img src="/video_feed" id="videoStream">
    

    <!-- Nurse Condition Badge -->
    <div class="ConditionBadge">
        <!-- Toggle Switch -->
        <label class="Toggle">
            <input type="checkbox" id="FeatureToggle" checked>
            <span class="Slider"></span>
        </label>

        <!-- Text -->
        <div>
            Your condition: <span id="ConditionStatus">Normal</span><br>
            <span id="ConditionMetrics">HR: 97 &nbsp; Gaze: shifting &nbsp; Steps: Baseline</span>
        </div>
    </div>

    <!-- ⭐ TIER 1 -->
    <div id="Tier1" class="TierContainer" style="display:none;">
        <div class="TierBox">

            <div class="TierHeader">
                <span><b>Jane Doe</b> · 54F · Arrived by EMS (10:42 AM)</span>
                <span>CTAS 2 &nbsp;&nbsp; Time remains <b>00:14:53</b></span>
            </div>

            <div class="tier-section">
                Chief Complaint: Chest pain since 1 hour ago <br>
                CEDIS: Chest Pain – Cardiac (101)
            </div>

            <div class="tier-grid">
                <div><span class="label">HR</span><br>128</div>
                <div><span class="label">BP</span><br>92/58</div>
                <div><span class="label">RR</span><br>26</div>
                <div><span class="label">SpO₂</span><br>87%</div>
                <div><span class="label">Temp</span><br>37.3°C</div>
                <div><span class="label">Pain</span><br>8/10</div>
            </div>

            <div class="tier-section">
                Modifiers: Tachycardia, Hypotension, Severe Pain<br>
                Triage Nurse ID: 251062
            </div>

            <div class="tier-section">
                Alarm: Missing triage note
            </div>
        </div>
    </div>



    <!-- ⭐ TIER 2 -->
    <div id="Tier2" class="TierContainer" style="display:none;">
        <div class="TierBox">
            <div class="TierHeader">
                <span><b>Jane Doe</b> · 54F · CTAS 2</span>
                <span>Timer <b>00:14:53</b></span>
            </div>

            <div class="tier-section">
                CEDIS: Chest Pain – Cardiac (101)
            </div>

            <div class="tier-grid">
                <div><span class="label">HR</span><br>162</div>
                <div><span class="label">BP</span><br>92/58</div>
                <div><span class="label">SpO₂</span><br>87%</div>
            </div>

            <div class="tier-section">
                Modifiers: Tachycardia, Hypotension
            </div>

            <div class="tier-section">
                Alarm: abnormal HR
            </div>
        </div>
    </div>



    <!-- ⭐ TIER 3 -->
    <div id="Tier3" class="TierContainer" style="display:none;">
        <div class="TierBox">
            <div class="TierHeader">
                <span><b>Jane Doe</b></span>
                <span>CTAS 2</span>
            </div>

            <div class="tier-section">
                CEDIS: Chest Pain – Cardiac (101)
            </div>

            <div class="tier-grid">
                <div><span class="label">BP</span><br>92/58</div>
                <div><span class="label">SpO₂</span><br>87%</div>
            </div>

            <div class="tier-section">
                Modifiers: Tachycardia, Hypotension
            </div>

            <div class="tier-section">
                Alarm: abnormal HR
            </div>
        </div>
    </div>
    </div>

     <!-- <div id="triageInfo" class="triage-box"></div> -->
</body>
<script src="{{ url_for('static', filename='js/app.js') }}"></script>
</html>

<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>NurseAssist</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='/css/styles.css') }}">
    <style>
        body {font-family: Arial, sans-serif;}
        #infoBox {
            display:none; 
            background:white; 
            padding:10px; 
            border-radius:8px; 
            width:300px; 
            border:1px solid #ccc;
        }
        h1 { font-size: 22px; }
    </style>
</head>

<body>

<h1>NurseAssist – Nurse Status Monitor</h1>
<p id="scanStatus"><strong>Waiting for person...</strong></p>

<div id="infoBox">
    <p>Stress: <span id="Stress_State"></span></p>
    <p>Heart Rate: <span id="Heart_Rate_bpm"></span> bpm</p>
    <p>HR Label: <span id="HR_Threshold_Label"></span></p>
    <p>Gaze: <span id="Gaze_State"></span></p>
</div>

<script>
setInterval(() => {
    fetch('/get_stress_data')
        .then(res => res.json())
        .then(data => {

            if (data.Face_Detected) {
                document.getElementById("scanStatus").innerText = "Person detected ✓";
                document.getElementById("infoBox").style.display = "block";

                document.getElementById("Stress_State").innerText = data.Stress_State;
                document.getElementById("Heart_Rate_bpm").innerText = data.Heart_Rate_bpm;
                document.getElementById("HR_Threshold_Label").innerText = data.HR_Threshold_Label;
                document.getElementById("Gaze_State").innerText = data.Gaze_State;

                // Background color based on HR severity
                const level = data.HR_Threshold_Label;
                document.body.style.backgroundColor =
                    level === "High" ? "#ffb3b3" :
                    level === "Moderate" ? "#ffeeba" :
                    "#d4edda";
            } 
            else {
                document.getElementById("scanStatus").innerText = "Waiting for person...";
                document.getElementById("infoBox").style.display = "none";
                document.body.style.backgroundColor = "white";
            }
        });
}, 1000);
</script>

</body>
</html> -->
